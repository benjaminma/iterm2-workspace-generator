"use strict";angular.module("iterm2WorkspaceGeneratorApp",["ui.router","ui.bootstrap","ui.sortable"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(a,b,c){b.otherwise("/"),c.html5Mode(!1)}]),angular.module("iterm2WorkspaceGeneratorApp").controller("MainCtrl",["$scope","$http",function(a,b){a.awesomeThings=[],b.get("/api/things").success(function(b){a.awesomeThings=b})}]),angular.module("iterm2WorkspaceGeneratorApp").config(["$stateProvider",function(a){a.state("main",{url:"/",templateUrl:"app/main/main.html",controller:"MainCtrl"})}]),angular.module("iterm2WorkspaceGeneratorApp").directive("wsTerm",function(){return{templateUrl:"app/wsTerm/wsTerm.html",restrict:"EA",controller:["$scope","$log","$timeout","$http",function(a,b,c,d){var e=a,f=[];e.tabList=f,e.sortableOptions={},e.workspaceName="",e.workspaceOutput="";var g=0,h=function(a){g++;var b={id:g,def:{title:"Tab "+g,path:"~/",commands:"",background:0}};f.push(b),a&&i(b)};e.createNewTab=h;var i=function(a){_.each(f,function(a){a.active=!1}),a.active=!0};e.setActiveTab=i;var j=function(a){var b=f[a];f.splice(a,1),b.active&&f.length>0&&i(f.length>a?f[a]:f[a-1])};e.removeTabByIndex=j;var k=[{name:"Black",value:"{5120, 5120, 5120}",rgb:"RGB(20, 20, 20)"},{name:"Blue",value:"{0, 0, 32768}",rgb:"RGB(0, 0, 128)"},{name:"Red",value:"{32768, 0, 0}",rgb:"RGB(128, 0 , 0)"},{name:"White",value:"{65535, 65535, 65535}",rgb:"RGB(255, 255, 255)"}];e.backgroundColors=k;var l,m=function(){d.get("/assets/main.tpl.applescript").then(function(a){l=_.template(a.data)})},n=function(){var a=[];_.forEach(f,function(b){a.push("workChunk"+b.id)});var b="set workChunks to {"+a.join(", ")+"}";return b},o=_.template('set workChunk${id} to {title:"${def.title}", path:"${def.path}", commands:"${def.commands}", background:color${backgroundColorName}}'),p=function(){var a=[];_.forEach(f,function(b){b.backgroundColorName=k[b.def.background].name,a.push(o(b))});var b=a.join("\n");return b},q=_.template("set color${name} to ${value}"),r=function(){var a=[];_.forEach(k,function(b){a.push(q(b))});var b=a.join("\n");return b},s=function(){var b=a.tabList;if(l&&b.length>0){var d={workspace:e.workspaceName,timestamp:new Date,colorDefinitions:r(),workDefinitions:p(),workList:n()};e.workspaceOutput=l(d),c(angular.noop)}},t=_.debounce(s,400);e.generateAppleScript=t,e.$watch("tabList",function(){t()},!0);var u=function(a){var b=a.target;b&&(b.focus(),b.select())};e.selectAllOutput=u;var v=function(){h(!0),m(),t()};v()}],controllerAs:"termCtrl"}}),angular.module("iterm2WorkspaceGeneratorApp").factory("Modal",["$rootScope","$modal",function(a,b){function c(c,d){var e=a.$new();return c=c||{},d=d||"modal-default",angular.extend(e,c),b.open({templateUrl:"components/modal/modal.html",windowClass:d,scope:e})}return{confirm:{"delete":function(a){return a=a||angular.noop,function(){var b,d=Array.prototype.slice.call(arguments),e=d.shift();b=c({modal:{dismissable:!0,title:"Confirm Delete",html:"<p>Are you sure you want to delete <strong>"+e+"</strong> ?</p>",buttons:[{classes:"btn-danger",text:"Delete",click:function(a){b.close(a)}},{classes:"btn-default",text:"Cancel",click:function(a){b.dismiss(a)}}]}},"modal-danger"),b.result.then(function(b){a.apply(b,d)})}}}}}]),angular.module("iterm2WorkspaceGeneratorApp").controller("NavbarCtrl",["$scope","$location",function(a,b){a.menu=[{title:"Home",link:"/"}],a.isCollapsed=!0,a.isActive=function(a){return a===b.path()}}]),angular.module("iterm2WorkspaceGeneratorApp").run(["$templateCache",function(a){a.put("app/main/main.html",'<!-- <div ng-include="\'components/navbar/navbar.html\'"></div> --><header class=hero-unit id=banner><div class=container><h1>iTerm2 Workspace</h1><p class=lead>Create an .applescript to quickly setup your iTerm2 tabs</p><img src=assets/images/81eaf3d6.iterm2-logo.png class=iterm2-logo></div></header><div class="container content"><div class=row><div class="col-md-4 txt-center"><h3>Configure your workspace</h3><img src=http://placehold.it/300x200 alt="Configure your workspace below"></div><div class="col-md-4 txt-center"><h3>Generate your script</h3><img src=http://placehold.it/300x200 alt="Generate and save your AppleScript"></div><div class="col-md-4 txt-center"><h3>Run in AppleScript Editor</h3><img src=http://placehold.it/300x200 alt="Copy and run script in AppleScript Editor"></div></div><div class=row><div class=col-lg-12><div ws-term></div></div></div></div><footer class=footer><div class=container><p><a href=https://github.com/benjaminma/iterm2-workspace-generator>github</a></p></div></footer>'),a.put("app/wsTerm/wsTerm.html",'<div class=ws-term><div class=wst-window><ul ui-sortable=sortableOptions ng-model=tabList class="nav nav-tabs" data-tabs=tabs><li ng-class="{active: tab.active}" ng-repeat="tab in tabList" ng-click=setActiveTab(tab)><a><span ng-bind=tab.def.title></span></a><div class=wst-tab-x ng-click=removeTabByIndex($index) ng-hide="($index === 0) && (tabList.length === 1)"><span class="glyphicon glyphicon-remove" aria-hidden=true></span></div></li><li class="nav-tab-add pull-right"><div class=wst-tab-add ng-click=createNewTab()><span class="glyphicon glyphicon-plus" aria-hidden=true></span></div></li></ul><div class=tab-content><div class="item tab-pane" style="background: {{backgroundColors[tab.def.background].rgb}}" ng-class="{active: tab.active}" id=tab-{{tab.id}} ng-repeat="tab in tabList"><form><fieldset><legend>Tab Configuration</legend><div class="form-group col-md-12"><label for=tab-{{tab.id}}-title class=col-md-2>Title</label><div class=col-md-8><input class=form-control id=tab-{{tab.id}}-title ng-model=tab.def.title placeholder="Tab name"></div></div><div class="form-group col-md-12"><label for=tab-{{tab.id}}-path class=col-md-2>Path</label><div class=col-md-8><input class=form-control id=tab-{{tab.id}}-path ng-model=tab.def.path placeholder="e.g. ~/, ~/repos, /var/log"></div></div><div class="form-group col-md-12"><label for=tab-{{tab.id}}-commands class=col-md-2>Commands</label><div class=col-md-8><input class=form-control id=tab-{{tab.id}}-commands ng-model=tab.def.commands placeholder="e.g. git pull && git status"></div></div><div class="form-group col-md-12"><label class=col-md-2>Background</label><div class=col-md-8><div class=btn-group><label class="btn btn-default" ng-model=tab.def.background btn-radio=$index ng-repeat="color in backgroundColors">{{color.name}}</label></div></div></div></fieldset></form></div></div></div><div class=wst-workspace><div class=input-group><input class=form-control placeholder="Workspace name" aria-describedby=addon-applescript ng-model=workspaceName ng-change=generateAppleScript()> <span class=input-group-addon id=addon-applescript>.applescript</span></div></div><div class=wst-controls><div class=form-group><button class="btn btn-primary form-control" ng-click=generateAppleScript()>Generate {{workspaceName}}.applescript</button><textarea name=ws-output id=ws-output rows=12 ng-model=workspaceOutput ng-click=selectAllOutput($event) readonly></textarea></div></div></div>'),a.put("components/modal/modal.html",'<div class=modal-header><button ng-if=modal.dismissable type=button ng-click=$dismiss() class=close>&times;</button><h4 ng-if=modal.title ng-bind=modal.title class=modal-title></h4></div><div class=modal-body><p ng-if=modal.text ng-bind=modal.text></p><div ng-if=modal.html ng-bind-html=modal.html></div></div><div class=modal-footer><button ng-repeat="button in modal.buttons" ng-class=button.classes ng-click=button.click($event) ng-bind=button.text class=btn></button></div>'),a.put("components/navbar/navbar.html",'<div class="navbar navbar-default navbar-static-top" ng-controller=NavbarCtrl><div class=container><div class=navbar-header><button class=navbar-toggle type=button ng-click="isCollapsed = !isCollapsed"><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a href="/" class=navbar-brand>iterm2-workspace-generator</a></div><div collapse=isCollapsed class="navbar-collapse collapse" id=navbar-main><ul class="nav navbar-nav"><li ng-repeat="item in menu" ng-class="{active: isActive(item.link)}"><a ng-href={{item.link}}>{{item.title}}</a></li></ul></div></div></div>')}]);